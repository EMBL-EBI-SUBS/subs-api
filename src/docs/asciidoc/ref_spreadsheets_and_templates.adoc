= Spreadsheets and templates
:docinfo: shared
:toc: auto

== Templates

Templates help users provide bulk data (e.g. sampeles, assays), using familiar tools.
Users can download spreadsheets by using the `spreadsheet-csv-download` link in their browser.

=== Template search resources

==== Request

include::{snippets}/templates-search/curl-request.adoc[]

==== Response

include::{snippets}/templates-search/http-response.adoc[]

=== Find all templates
==== Request

include::{snippets}/templates-list/curl-request.adoc[]

==== Response

include::{snippets}/templates-list/http-response.adoc[]

=== Find one template by name
==== Request

include::{snippets}/test-template-one/curl-request.adoc[]

==== Response

include::{snippets}/test-template-one/http-response.adoc[]

=== Find templates by type

==== Request

include::{snippets}/test-template-by-type/curl-request.adoc[]

==== Response

include::{snippets}/test-template-by-type/http-response.adoc[]

=== Find templates by type and tags

==== Request

include::{snippets}/templates-by-tags-and-type/curl-request.adoc[]

==== Response

include::{snippets}/templates-by-tags-and-type/http-response.adoc[]


== Spreadsheet upload

Users can supply information by downloading a spreadsheet template, filling in the data and uploading the completed spreadsheet.

This is currently available for samples.

.Steps to upload a spreadsheet
. Select a template
. Download template file
. Open template in spreadsheet software (e.g. Excel)
. Fill in spreadsheet values
. Save spreadsheet in `.csv` format
. Select the same template, upload to the API. This will give you a sheet resource
. The sheet will be parsed by the system and loaded into the database (e.g. as sample records)
. Progress and errors will be recorded in the sheet resource
. Sheets will be cleaned up within a few days of them being completed.


=== Uploading a CSV file

We'll use a small csv file in this example:

.my-samples.csv
[source,csv]
alias,taxon id,taxon,height,units
s1,9606,Homo sapiens,1.7,meters
s2,9606,Homo sapiens,1.7,meters

==== Request

include::{snippets}/sheet-csv-upload/curl-request.adoc[]

NOTE: If using curl, you can use the --data-binary parameter to pass file contents more efficiently:

==== Response

include::{snippets}/sheet-csv-upload/http-response.adoc[]

==== Links

include::{snippets}/sheet-csv-upload/links.adoc[]


=== Fetching a sheet resource

==== Request

include::{snippets}/sheet-csv-upload/curl-request.adoc[]

==== Response

include::{snippets}/sheet-csv-upload/http-response.adoc[]

==== Links

include::{snippets}/sheet-csv-upload/links.adoc[]
